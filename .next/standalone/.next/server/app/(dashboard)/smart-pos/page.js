(()=>{var e={};e.id=7911,e.ids=[7911],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},15002:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d});var a=t(70260),s=t(28203),o=t(25155),l=t.n(o),i=t(67292),n={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(r,n);let d=["",{children:["(dashboard)",{children:["smart-pos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,25700)),"/Users/rakzzm/Documents/Applications/Advakkad POS Application/src/app/(dashboard)/smart-pos/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58426)),"/Users/rakzzm/Documents/Applications/Advakkad POS Application/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,71354)),"/Users/rakzzm/Documents/Applications/Advakkad POS Application/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/rakzzm/Documents/Applications/Advakkad POS Application/src/app/(dashboard)/smart-pos/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(dashboard)/smart-pos/page",pathname:"/smart-pos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},41599:(e,r,t)=>{Promise.resolve().then(t.bind(t,58426))},1847:(e,r,t)=>{Promise.resolve().then(t.bind(t,65950))},12159:(e,r,t)=>{Promise.resolve().then(t.bind(t,25700))},6583:(e,r,t)=>{Promise.resolve().then(t.bind(t,69944))},24849:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(73258).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},96795:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(73258).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},16873:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(73258).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},65950:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>A});var a=t(45512),s=t(58009),o=t(28531),l=t.n(o),i=t(79334),n=t(80574),d=t(10985),c=t(91124),m=t(64977),h=t(80832),p=t(60322),u=t(78397),g=t(26658),x=t(61075),b=t(13287),f=t(4643),y=t(63170),w=t(94520),v=t(44269),j=t(30722),N=t(76438),k=t(65210);function A({children:e}){let r=(0,i.usePathname)();(0,i.useRouter)();let{user:t,logout:o}=(0,k.A)(),[A,S]=(0,s.useState)(!1);if(!t)return null;let C=[{name:"Dashboard",href:"/",icon:n.A,gradient:"from-blue-500/20 to-cyan-500/20",glow:"shadow-lg shadow-blue-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Products",href:"/products",icon:d.A,gradient:"from-purple-500/20 to-violet-500/20",glow:"shadow-lg shadow-purple-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Orders",href:"/orders",icon:c.A,gradient:"from-green-500/20 to-emerald-500/20",glow:"shadow-lg shadow-green-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Members",href:"/members",icon:m.A,gradient:"from-orange-500/20 to-amber-500/20",glow:"shadow-lg shadow-orange-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Top Sales",href:"/top-sales",icon:h.A,gradient:"from-cyan-500/20 to-teal-500/20",glow:"shadow-lg shadow-cyan-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Reports",href:"/reports",icon:p.A,gradient:"from-red-500/20 to-rose-500/20",glow:"shadow-lg shadow-red-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"AI Insights",href:"/ai-insights",icon:u.A,gradient:"from-indigo-500/20 to-purple-500/20",glow:"shadow-lg shadow-indigo-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Smart POS",href:"/smart-pos",icon:g.A,gradient:"from-pink-500/20 to-rose-500/20",glow:"shadow-lg shadow-pink-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"E-Invoicing",href:"/invoices",icon:x.A,gradient:"from-indigo-500/20 to-purple-500/20",glow:"shadow-lg shadow-indigo-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Staff Management",href:"/staff",icon:b.A,gradient:"from-emerald-500/20 to-green-500/20",glow:"shadow-lg shadow-emerald-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Attendance",href:"/attendance",icon:f.A,gradient:"from-teal-500/20 to-cyan-500/20",glow:"shadow-lg shadow-teal-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"QR Codes",href:"/qr-codes",icon:y.A,gradient:"from-amber-500/20 to-orange-500/20",glow:"shadow-lg shadow-amber-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Tables",href:"/tables",icon:y.A,gradient:"from-amber-500/20 to-orange-500/20",glow:"shadow-lg shadow-amber-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Settings",href:"/settings",icon:w.A,gradient:"from-slate-500/20 to-gray-500/20",glow:"shadow-lg shadow-slate-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"}],P=r&&"/"!==r?r.includes("/products")?"products":r.includes("/orders")?"orders":r.includes("/members")?"members":r.includes("/reports")?"reports":r.includes("/top-sales")?"topsales":r.includes("/staff")?"staff":r.includes("/attendance")?"attendance":r.includes("/tables")?"members":r.includes("/settings")?"settings":"dashboard":"dashboard";return(0,a.jsxs)("div",{className:`min-h-screen bg-gradient-to-br from-${P}-bg via-${P}-bg/30 to-${P}-bg/80 relative overflow-hidden`,children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,a.jsx)("div",{className:`absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-${P}-primary/20 to-${P}-secondary/20 rounded-full blur-3xl animate-float`}),(0,a.jsx)("div",{className:`absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-${P}-accent/20 to-${P}-primary/20 rounded-full blur-3xl animate-float`,style:{animationDelay:"1s"}}),(0,a.jsx)("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-${P}-primary/10 to-${P}-secondary/10 rounded-full blur-3xl animate-pulse-slow`})]}),(0,a.jsxs)("div",{className:"flex h-screen",children:[A&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>S(!1)}),(0,a.jsxs)("div",{className:`flex flex-col ${A?"translate-x-0":"-translate-x-full"} fixed inset-y-0 left-0 z-50 w-64 bg-gradient-to-b from-slate-900/95 via-gray-900/95 to-slate-900/95 backdrop-blur-2xl shadow-2xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 border-r border-white/10`,children:[(0,a.jsxs)("div",{className:"flex h-20 items-center justify-between px-4 pt-4 pb-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,a.jsx)("div",{className:"relative w-full h-12 bg-white rounded-lg shadow-lg p-1",children:(0,a.jsx)("img",{src:"/images/logo.png",alt:"Adavakkad Collections",className:"object-contain w-full h-full"})})}),(0,a.jsx)("button",{onClick:()=>S(!1),className:"lg:hidden text-gray-400 hover:text-white",children:(0,a.jsx)(v.A,{className:"h-6 w-6"})})]}),(0,a.jsx)("nav",{className:"mt-5 px-2 space-y-2 flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-transparent",children:C.map(e=>{let t=e.icon,s=r===e.href;return(0,a.jsxs)(l(),{href:e.href,onClick:()=>S(!1),className:`group relative flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-300 overflow-hidden ${s?`${e.glass} text-white ${e.glow} transform scale-105 shadow-xl`:"text-gray-300 hover:text-white hover:backdrop-blur-xl hover:bg-white/5 hover:scale-105"}`,children:[(0,a.jsx)("div",{className:`absolute inset-0 bg-shine-gradient opacity-0 group-hover:opacity-100 transition-opacity duration-500 ${s?"animate-shine":""}`}),(0,a.jsx)(t,{className:`mr-4 h-6 w-6 transition-transform duration-300 ${s?"animate-float":"group-hover:scale-110"}`}),(0,a.jsx)("span",{className:"relative z-10",children:e.name}),s&&(0,a.jsx)("div",{className:"absolute right-2 w-2 h-2 bg-white rounded-full animate-pulse"})]},e.name)})}),(0,a.jsxs)("div",{className:"mt-auto p-4 bg-gradient-to-t from-gray-900 to-transparent",children:[(0,a.jsxs)("div",{className:"mb-4 px-4 py-3 bg-white/10 backdrop-blur-sm rounded-xl",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-white",children:t.name}),(0,a.jsx)("div",{className:"text-xs text-gray-300 capitalize",children:t.role})]}),(0,a.jsxs)("button",{onClick:o,className:"flex items-center px-4 py-3 text-sm font-medium text-gray-300 hover:text-white hover:bg-red-500/20 w-full rounded-xl transition-all duration-300 group",children:[(0,a.jsx)(j.A,{className:"mr-4 h-5 w-5 group-hover:scale-110 transition-transform"}),(0,a.jsx)("span",{children:"Logout"})]})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,a.jsxs)("div",{className:"lg:hidden bg-white/80 backdrop-blur-sm shadow-sm p-4 flex items-center justify-between",children:[(0,a.jsx)("button",{onClick:()=>S(!0),className:"text-gray-600 hover:text-gray-900",children:(0,a.jsx)(N.A,{className:"h-6 w-6"})}),(0,a.jsx)("div",{className:"h-10",children:(0,a.jsx)("img",{src:"/images/logo.png",alt:"Adavakkad Collections",className:"h-full object-contain"})}),(0,a.jsx)("div",{className:"w-6"})]}),(0,a.jsx)("main",{className:"p-6",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto",children:e})})]})]})]})}},69944:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var a=t(45512),s=t(58009),o=t(26658),l=t(16873),i=t(91124),n=t(87798),d=t(96795),c=t(63170),m=t(24849),h=t(20429),p=t(85316),u=t(45103);function g(){let{products:e,fetchProducts:r}=(0,h.K)(),{addOrder:t}=(0,p.x)(),[g,b]=(0,s.useState)([]),[f,y]=(0,s.useState)("cash"),[w,v]=(0,s.useState)(""),[j,N]=(0,s.useState)("All"),[k,A]=(0,s.useState)("Walk-in Customer"),S=["All",...Array.from(new Set(e.map(e=>e.category)))],C=e.filter(e=>{let r=e.name.toLowerCase().includes(w.toLowerCase()),t="All"===j||e.category===j;return r&&t}),P=e=>{g.find(r=>r.id===e.id)?b(g.map(r=>r.id===e.id?{...r,qty:r.qty+1}:r)):b([...g,{id:e.id,name:e.name,price:e.price,qty:1}])},_=e=>{b(g.filter(r=>r.id!==e))},O=(e,r)=>{r<1?_(e):b(g.map(t=>t.id===e?{...t,qty:r}:t))},D=g.reduce((e,r)=>e+r.price*r.qty,0),E=.1*D,$=D+E,q=async()=>{if(0!==g.length)try{await t({customerName:k,items:g.map(e=>({productId:e.id,name:e.name,price:e.price,quantity:e.qty})),status:"completed",paymentMethod:f,subtotal:D,discount:0,serviceTax:E,total:$,date:new Date().toISOString(),source:"POS"}),alert(`Order placed successfully! Total: ₹${$.toFixed(2)}`),b([]),A("Walk-in Customer")}catch(e){alert("Failed to place order"),console.error(e)}};return(0,a.jsxs)("div",{className:"h-screen flex bg-gradient-to-br from-cyan-50 to-blue-50",children:[(0,a.jsxs)("div",{className:"flex-1 p-6 flex flex-col h-full overflow-hidden",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent mb-2 flex items-center gap-3",children:[(0,a.jsx)(o.A,{className:"h-10 w-10 text-cyan-600"}),"Smart POS"]}),(0,a.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)(l.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,a.jsx)("input",{type:"text",placeholder:"Search products...",value:w,onChange:e=>v(e.target.value),className:"pl-10 pr-4 py-2 w-full rounded-xl border-none shadow-sm focus:ring-2 focus:ring-cyan-500"})]}),(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:S.map(e=>(0,a.jsx)("button",{onClick:()=>N(e),className:`px-4 py-2 rounded-xl whitespace-nowrap transition-all ${j===e?"bg-cyan-600 text-white shadow-lg":"bg-white text-gray-600 hover:bg-cyan-50"}`,children:e},e))})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto pr-2",children:(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:C.map(e=>(0,a.jsxs)("button",{onClick:()=>P(e),className:"bg-white rounded-2xl p-4 shadow-lg hover:shadow-xl hover:scale-105 transition-all border-2 border-transparent hover:border-cyan-500 group text-left relative overflow-hidden",children:[(0,a.jsx)("div",{className:"aspect-square bg-gray-100 rounded-xl mb-3 relative overflow-hidden",children:e.image_url?(0,a.jsx)(u.default,{src:e.image_url,alt:e.name,fill:!0,className:"object-cover group-hover:scale-110 transition-transform duration-300"}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-gray-300",children:(0,a.jsx)(i.A,{className:"h-12 w-12"})})}),(0,a.jsx)("h3",{className:"font-bold text-gray-900 text-sm mb-1 line-clamp-1",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:e.category}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("p",{className:"text-lg font-bold text-cyan-600",children:["₹",e.price.toFixed(2)]}),g.find(r=>r.id===e.id)&&(0,a.jsx)("span",{className:"bg-cyan-100 text-cyan-700 text-xs font-bold px-2 py-1 rounded-full",children:g.find(r=>r.id===e.id)?.qty})]})]},e.id))})})]}),(0,a.jsxs)("div",{className:"w-96 bg-white shadow-2xl flex flex-col border-l border-gray-100",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Current Order"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 p-3 rounded-xl",children:[(0,a.jsx)(n.A,{className:"h-5 w-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:k,onChange:e=>A(e.target.value),className:"bg-transparent border-none focus:ring-0 w-full font-medium text-gray-700",placeholder:"Customer Name"})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-3",children:0===g.length?(0,a.jsxs)("div",{className:"text-center py-12 flex flex-col items-center justify-center h-full",children:[(0,a.jsx)("div",{className:"bg-cyan-50 p-6 rounded-full mb-4",children:(0,a.jsx)(i.A,{className:"h-12 w-12 text-cyan-300"})}),(0,a.jsx)("p",{className:"text-gray-500 font-medium",children:"Cart is empty"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Add items from the menu"})]}):g.map(e=>(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center gap-3 group hover:bg-cyan-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["₹",e.price.toFixed(2)," each"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>O(e.id,e.qty-1),className:"w-8 h-8 bg-white border border-gray-200 rounded-lg hover:border-cyan-500 hover:text-cyan-600 flex items-center justify-center transition-all disabled:opacity-50",children:"-"}),(0,a.jsx)("span",{className:"w-6 text-center font-bold text-gray-700",children:e.qty}),(0,a.jsx)("button",{onClick:()=>O(e.id,e.qty+1),className:"w-8 h-8 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 flex items-center justify-center transition-all shadow-md",children:"+"})]})]},e.id))}),g.length>0&&(0,a.jsxs)("div",{className:"bg-white border-t border-gray-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]",children:[(0,a.jsxs)("div",{className:"p-6 space-y-3",children:[(0,a.jsxs)("div",{className:"space-y-2 pb-4 border-b border-gray-100",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Subtotal:"}),(0,a.jsxs)("span",{className:"font-semibold",children:["₹",D.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Tax (10%):"}),(0,a.jsxs)("span",{className:"font-semibold",children:["₹",E.toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xl font-bold",children:[(0,a.jsx)("span",{children:"Total:"}),(0,a.jsxs)("span",{className:"text-cyan-600",children:["₹",$.toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"px-6 pb-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[(0,a.jsxs)("button",{onClick:()=>y("cash"),className:`p-3 rounded-xl border-2 transition-all flex flex-col items-center justify-center gap-1 ${"cash"===f?"border-cyan-600 bg-cyan-50 text-cyan-700":"border-gray-200 hover:border-gray-300 text-gray-600"}`,children:[(0,a.jsx)(x,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-xs font-bold",children:"Cash"})]}),(0,a.jsxs)("button",{onClick:()=>y("card"),className:`p-3 rounded-xl border-2 transition-all flex flex-col items-center justify-center gap-1 ${"card"===f?"border-cyan-600 bg-cyan-50 text-cyan-700":"border-gray-200 hover:border-gray-300 text-gray-600"}`,children:[(0,a.jsx)(d.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-xs font-bold",children:"Card"})]}),(0,a.jsxs)("button",{onClick:()=>y("upi"),className:`p-3 rounded-xl border-2 transition-all flex flex-col items-center justify-center gap-1 ${"upi"===f?"border-cyan-600 bg-cyan-50 text-cyan-700":"border-gray-200 hover:border-gray-300 text-gray-600"}`,children:[(0,a.jsx)(c.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-xs font-bold",children:"UPI"})]})]}),(0,a.jsxs)("button",{onClick:q,className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 text-white py-4 rounded-xl font-bold text-lg hover:from-cyan-700 hover:to-blue-700 transition-all shadow-lg hover:shadow-xl hover:scale-[1.02] flex items-center justify-center gap-2 active:scale-95",children:[(0,a.jsx)(m.A,{className:"h-6 w-6"}),"Complete Order"]})]})]})]})]})}function x(e){return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,a.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),(0,a.jsx)("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}},54810:(e,r,t)=>{"use strict";t.d(r,{b:()=>a});let a=(0,t(80159).vt)(e=>({members:[],loading:!1,error:null,fetchMembers:async()=>{e({loading:!0,error:null});try{let r=await fetch("/api/members");if(!r.ok)throw Error("Failed to fetch members");let t=(await r.json()).map(e=>({...e,joinDate:new Date(e.joinDate).toISOString().split("T")[0]}));e({members:t})}catch(r){e({error:r.message})}finally{e({loading:!1})}},addMember:async r=>{e({loading:!0,error:null});try{let t=await fetch("/api/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok)throw Error("Failed to create member");let a=await t.json(),s={...a,joinDate:new Date(a.joinDate).toISOString().split("T")[0]};return e(e=>({members:[...e.members,s]})),s}catch(r){throw e({error:r.message}),r}finally{e({loading:!1})}},updateMember:async(r,t)=>{e({loading:!0,error:null});try{let a=await fetch(`/api/members/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to update member");let s=await a.json(),o={...s,joinDate:new Date(s.joinDate).toISOString().split("T")[0]};e(e=>({members:e.members.map(e=>e.id===r?o:e)}))}catch(r){throw e({error:r.message}),r}finally{e({loading:!1})}},deleteMember:async r=>{e({loading:!0,error:null});try{if(!(await fetch(`/api/members/${r}`,{method:"DELETE"})).ok)throw Error("Failed to delete member");e(e=>({members:e.members.filter(e=>e.id!==r)}))}catch(r){throw e({error:r.message}),r}finally{e({loading:!1})}}}))},85316:(e,r,t)=>{"use strict";t.d(r,{x:()=>o});var a=t(80159),s=t(54810);let o=(0,a.vt)((e,r)=>({orders:[],loading:!1,error:null,fetchOrders:async()=>{e({loading:!0,error:null});try{let r=await fetch("/api/orders");if(!r.ok)throw Error("Failed to fetch orders");let t=(await r.json()).map(e=>({...e,itemCount:e.items.reduce((e,r)=>e+r.quantity,0),date:new Date(e.date).toLocaleString()}));e({orders:t})}catch(r){e({error:r.message})}finally{e({loading:!1})}},addOrder:async r=>{e({loading:!0,error:null});try{let t={...r,orderNumber:`ORD-${Date.now()}`},a=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to create order");let s=await a.json(),o={...s,itemCount:s.items.reduce((e,r)=>e+r.quantity,0),date:new Date(s.date).toLocaleString()};e(e=>({orders:[o,...e.orders]})),"completed"===o.status&&o.memberId&&await l(o.memberId,o.total)}catch(r){throw e({error:r.message}),r}finally{e({loading:!1})}},updateOrder:async(t,a)=>{e({loading:!0,error:null});try{let s=await fetch(`/api/orders/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)throw Error("Failed to update order");let o=await s.json(),i={...o,itemCount:o.items.reduce((e,r)=>e+r.quantity,0),date:new Date(o.date).toLocaleString()},n=r().orders.find(e=>e.id===t);e(e=>({orders:e.orders.map(e=>e.id===t?i:e)})),"completed"===a.status&&n?.status!=="completed"&&i.memberId&&await l(i.memberId,i.total)}catch(r){throw e({error:r.message}),r}finally{e({loading:!1})}},updateOrderStatus:async(t,a)=>{e({loading:!0,error:null});try{let s=await fetch(`/api/orders/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:a})});if(!s.ok)throw Error("Failed to update order status");let o=await s.json(),i={...o,itemCount:o.items.reduce((e,r)=>e+r.quantity,0),date:new Date(o.date).toLocaleString()},n=r().orders.find(e=>e.id===t);e(e=>({orders:e.orders.map(e=>e.id===t?i:e)})),"completed"===a&&i.memberId&&n?.status!=="completed"&&await l(i.memberId,i.total)}catch(r){e({error:r.message})}finally{e({loading:!1})}},deleteOrder:async r=>{e({loading:!0,error:null});try{if(!(await fetch(`/api/orders/${r}`,{method:"DELETE"})).ok)throw Error("Failed to delete order");e(e=>({orders:e.orders.filter(e=>e.id!==r)}))}catch(r){e({error:r.message})}finally{e({loading:!1})}}}));async function l(e,r){let t=s.b.getState(),a=t.members.find(r=>r.memberId===e);if(a){let e=1*Math.floor(r/100);await t.updateMember(a.id,{points:a.points+e,totalSpent:a.totalSpent+r})}}},20429:(e,r,t)=>{"use strict";t.d(r,{K:()=>a});let a=(0,t(80159).vt)(e=>({products:[],loading:!1,error:null,fetchProducts:async()=>{e({loading:!0,error:null});try{let r=await fetch("/api/products");if(!r.ok)throw Error("Failed to fetch products");let t=(await r.json()).map(e=>({...e,image_url:e.imageUrl||e.image_url,cost_price:e.costPrice||e.cost_price,profit_margin:e.profitMargin||e.profit_margin,is_featured:e.isFeatured,is_available:e.isAvailable}));e({products:t})}catch(r){e({error:r.message})}finally{e({loading:!1})}},addProduct:async r=>{e({loading:!0,error:null});try{let t=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok)throw Error("Failed to create product");let s=await t.json(),o={...s,image_url:s.imageUrl,cost_price:s.costPrice,profit_margin:s.profitMargin,is_featured:s.isFeatured,is_available:s.isAvailable};e(e=>({products:[o,...e.products]})),await a.getState().fetchProducts()}catch(r){e({error:r.message})}finally{e({loading:!1})}},updateProduct:async(r,t)=>{e({loading:!0,error:null});try{let a=await fetch(`/api/products/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to update product");let s=await a.json(),o={...s,image_url:s.imageUrl,cost_price:s.costPrice,profit_margin:s.profitMargin,is_featured:s.isFeatured,is_available:s.isAvailable};e(e=>({products:e.products.map(e=>e.id===r?o:e)}))}catch(r){e({error:r.message})}finally{e({loading:!1})}},deleteProduct:async r=>{e({loading:!0,error:null});try{if(!(await fetch(`/api/products/${r}`,{method:"DELETE"})).ok)throw Error("Failed to delete product");e(e=>({products:e.products.filter(e=>e.id!==r)}))}catch(r){e({error:r.message})}finally{e({loading:!1})}}}))},58426:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/rakzzm/Documents/Applications/Advakkad POS Application/src/app/(dashboard)/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/rakzzm/Documents/Applications/Advakkad POS Application/src/app/(dashboard)/layout.tsx","default")},25700:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/rakzzm/Documents/Applications/Advakkad POS Application/src/app/(dashboard)/smart-pos/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/rakzzm/Documents/Applications/Advakkad POS Application/src/app/(dashboard)/smart-pos/page.tsx","default")},78162:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var a=t(88077);let s=async e=>[{type:"image/png",sizes:"1024x1024",url:(0,a.fillMetadataSegment)(".",await e.params,"icon.png")+"?61c61fc08fa6f916"}]}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[638,4815,8077,2628,5781,9046],()=>t(15002));module.exports=a})();