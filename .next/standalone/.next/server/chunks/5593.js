exports.id=5593,exports.ids=[5593],exports.modules={41599:(e,t,r)=>{Promise.resolve().then(r.bind(r,58426))},1847:(e,t,r)=>{Promise.resolve().then(r.bind(r,65950))},65950:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var a=r(45512),o=r(58009),s=r(28531),l=r.n(s),i=r(79334),n=r(80574),d=r(10985),c=r(91124),m=r(64977),g=r(80832),h=r(60322),u=r(78397),p=r(26658),b=r(61075),f=r(13287),w=r(4643),y=r(63170),x=r(94520),v=r(44269),j=r(30722),k=r(76438),N=r(65210);function S({children:e}){let t=(0,i.usePathname)();(0,i.useRouter)();let{user:r,logout:s}=(0,N.A)(),[S,A]=(0,o.useState)(!1);if(!r)return null;let D=[{name:"Dashboard",href:"/",icon:n.A,gradient:"from-blue-500/20 to-cyan-500/20",glow:"shadow-lg shadow-blue-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Products",href:"/products",icon:d.A,gradient:"from-purple-500/20 to-violet-500/20",glow:"shadow-lg shadow-purple-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Orders",href:"/orders",icon:c.A,gradient:"from-green-500/20 to-emerald-500/20",glow:"shadow-lg shadow-green-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Members",href:"/members",icon:m.A,gradient:"from-orange-500/20 to-amber-500/20",glow:"shadow-lg shadow-orange-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Top Sales",href:"/top-sales",icon:g.A,gradient:"from-cyan-500/20 to-teal-500/20",glow:"shadow-lg shadow-cyan-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Reports",href:"/reports",icon:h.A,gradient:"from-red-500/20 to-rose-500/20",glow:"shadow-lg shadow-red-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"AI Insights",href:"/ai-insights",icon:u.A,gradient:"from-indigo-500/20 to-purple-500/20",glow:"shadow-lg shadow-indigo-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Smart POS",href:"/smart-pos",icon:p.A,gradient:"from-pink-500/20 to-rose-500/20",glow:"shadow-lg shadow-pink-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"E-Invoicing",href:"/invoices",icon:b.A,gradient:"from-indigo-500/20 to-purple-500/20",glow:"shadow-lg shadow-indigo-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Staff Management",href:"/staff",icon:f.A,gradient:"from-emerald-500/20 to-green-500/20",glow:"shadow-lg shadow-emerald-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Attendance",href:"/attendance",icon:w.A,gradient:"from-teal-500/20 to-cyan-500/20",glow:"shadow-lg shadow-teal-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"QR Codes",href:"/qr-codes",icon:y.A,gradient:"from-amber-500/20 to-orange-500/20",glow:"shadow-lg shadow-amber-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Tables",href:"/tables",icon:y.A,gradient:"from-amber-500/20 to-orange-500/20",glow:"shadow-lg shadow-amber-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Settings",href:"/settings",icon:x.A,gradient:"from-slate-500/20 to-gray-500/20",glow:"shadow-lg shadow-slate-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"}],C=t&&"/"!==t?t.includes("/products")?"products":t.includes("/orders")?"orders":t.includes("/members")?"members":t.includes("/reports")?"reports":t.includes("/top-sales")?"topsales":t.includes("/staff")?"staff":t.includes("/attendance")?"attendance":t.includes("/tables")?"members":t.includes("/settings")?"settings":"dashboard":"dashboard";return(0,a.jsxs)("div",{className:`min-h-screen bg-gradient-to-br from-${C}-bg via-${C}-bg/30 to-${C}-bg/80 relative overflow-hidden`,children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,a.jsx)("div",{className:`absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-${C}-primary/20 to-${C}-secondary/20 rounded-full blur-3xl animate-float`}),(0,a.jsx)("div",{className:`absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-${C}-accent/20 to-${C}-primary/20 rounded-full blur-3xl animate-float`,style:{animationDelay:"1s"}}),(0,a.jsx)("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-${C}-primary/10 to-${C}-secondary/10 rounded-full blur-3xl animate-pulse-slow`})]}),(0,a.jsxs)("div",{className:"flex h-screen",children:[S&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>A(!1)}),(0,a.jsxs)("div",{className:`flex flex-col ${S?"translate-x-0":"-translate-x-full"} fixed inset-y-0 left-0 z-50 w-64 bg-gradient-to-b from-slate-900/95 via-gray-900/95 to-slate-900/95 backdrop-blur-2xl shadow-2xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 border-r border-white/10`,children:[(0,a.jsxs)("div",{className:"flex h-20 items-center justify-between px-4 pt-4 pb-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,a.jsx)("div",{className:"relative w-full h-12 bg-white rounded-lg shadow-lg p-1",children:(0,a.jsx)("img",{src:"/images/logo.png",alt:"Adavakkad Collections",className:"object-contain w-full h-full"})})}),(0,a.jsx)("button",{onClick:()=>A(!1),className:"lg:hidden text-gray-400 hover:text-white",children:(0,a.jsx)(v.A,{className:"h-6 w-6"})})]}),(0,a.jsx)("nav",{className:"mt-5 px-2 space-y-2 flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-transparent",children:D.map(e=>{let r=e.icon,o=t===e.href;return(0,a.jsxs)(l(),{href:e.href,onClick:()=>A(!1),className:`group relative flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-300 overflow-hidden ${o?`${e.glass} text-white ${e.glow} transform scale-105 shadow-xl`:"text-gray-300 hover:text-white hover:backdrop-blur-xl hover:bg-white/5 hover:scale-105"}`,children:[(0,a.jsx)("div",{className:`absolute inset-0 bg-shine-gradient opacity-0 group-hover:opacity-100 transition-opacity duration-500 ${o?"animate-shine":""}`}),(0,a.jsx)(r,{className:`mr-4 h-6 w-6 transition-transform duration-300 ${o?"animate-float":"group-hover:scale-110"}`}),(0,a.jsx)("span",{className:"relative z-10",children:e.name}),o&&(0,a.jsx)("div",{className:"absolute right-2 w-2 h-2 bg-white rounded-full animate-pulse"})]},e.name)})}),(0,a.jsxs)("div",{className:"mt-auto p-4 bg-gradient-to-t from-gray-900 to-transparent",children:[(0,a.jsxs)("div",{className:"mb-4 px-4 py-3 bg-white/10 backdrop-blur-sm rounded-xl",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-white",children:r.name}),(0,a.jsx)("div",{className:"text-xs text-gray-300 capitalize",children:r.role})]}),(0,a.jsxs)("button",{onClick:s,className:"flex items-center px-4 py-3 text-sm font-medium text-gray-300 hover:text-white hover:bg-red-500/20 w-full rounded-xl transition-all duration-300 group",children:[(0,a.jsx)(j.A,{className:"mr-4 h-5 w-5 group-hover:scale-110 transition-transform"}),(0,a.jsx)("span",{children:"Logout"})]})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,a.jsxs)("div",{className:"lg:hidden bg-white/80 backdrop-blur-sm shadow-sm p-4 flex items-center justify-between",children:[(0,a.jsx)("button",{onClick:()=>A(!0),className:"text-gray-600 hover:text-gray-900",children:(0,a.jsx)(k.A,{className:"h-6 w-6"})}),(0,a.jsx)("div",{className:"h-10",children:(0,a.jsx)("img",{src:"/images/logo.png",alt:"Adavakkad Collections",className:"h-full object-contain"})}),(0,a.jsx)("div",{className:"w-6"})]}),(0,a.jsx)("main",{className:"p-6",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto",children:e})})]})]})]})}},54810:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});let a=(0,r(80159).vt)(e=>({members:[],loading:!1,error:null,fetchMembers:async()=>{e({loading:!0,error:null});try{let t=await fetch("/api/members");if(!t.ok)throw Error("Failed to fetch members");let r=(await t.json()).map(e=>({...e,joinDate:new Date(e.joinDate).toISOString().split("T")[0]}));e({members:r})}catch(t){e({error:t.message})}finally{e({loading:!1})}},addMember:async t=>{e({loading:!0,error:null});try{let r=await fetch("/api/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("Failed to create member");let a=await r.json(),o={...a,joinDate:new Date(a.joinDate).toISOString().split("T")[0]};return e(e=>({members:[...e.members,o]})),o}catch(t){throw e({error:t.message}),t}finally{e({loading:!1})}},updateMember:async(t,r)=>{e({loading:!0,error:null});try{let a=await fetch(`/api/members/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw Error("Failed to update member");let o=await a.json(),s={...o,joinDate:new Date(o.joinDate).toISOString().split("T")[0]};e(e=>({members:e.members.map(e=>e.id===t?s:e)}))}catch(t){throw e({error:t.message}),t}finally{e({loading:!1})}},deleteMember:async t=>{e({loading:!0,error:null});try{if(!(await fetch(`/api/members/${t}`,{method:"DELETE"})).ok)throw Error("Failed to delete member");e(e=>({members:e.members.filter(e=>e.id!==t)}))}catch(t){throw e({error:t.message}),t}finally{e({loading:!1})}}}))},85316:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var a=r(80159),o=r(54810);let s=(0,a.vt)((e,t)=>({orders:[],loading:!1,error:null,fetchOrders:async()=>{e({loading:!0,error:null});try{let t=await fetch("/api/orders");if(!t.ok)throw Error("Failed to fetch orders");let r=(await t.json()).map(e=>({...e,itemCount:e.items.reduce((e,t)=>e+t.quantity,0),date:new Date(e.date).toLocaleString()}));e({orders:r})}catch(t){e({error:t.message})}finally{e({loading:!1})}},addOrder:async t=>{e({loading:!0,error:null});try{let r={...t,orderNumber:`ORD-${Date.now()}`},a=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw Error("Failed to create order");let o=await a.json(),s={...o,itemCount:o.items.reduce((e,t)=>e+t.quantity,0),date:new Date(o.date).toLocaleString()};e(e=>({orders:[s,...e.orders]})),"completed"===s.status&&s.memberId&&await l(s.memberId,s.total)}catch(t){throw e({error:t.message}),t}finally{e({loading:!1})}},updateOrder:async(r,a)=>{e({loading:!0,error:null});try{let o=await fetch(`/api/orders/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok)throw Error("Failed to update order");let s=await o.json(),i={...s,itemCount:s.items.reduce((e,t)=>e+t.quantity,0),date:new Date(s.date).toLocaleString()},n=t().orders.find(e=>e.id===r);e(e=>({orders:e.orders.map(e=>e.id===r?i:e)})),"completed"===a.status&&n?.status!=="completed"&&i.memberId&&await l(i.memberId,i.total)}catch(t){throw e({error:t.message}),t}finally{e({loading:!1})}},updateOrderStatus:async(r,a)=>{e({loading:!0,error:null});try{let o=await fetch(`/api/orders/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:a})});if(!o.ok)throw Error("Failed to update order status");let s=await o.json(),i={...s,itemCount:s.items.reduce((e,t)=>e+t.quantity,0),date:new Date(s.date).toLocaleString()},n=t().orders.find(e=>e.id===r);e(e=>({orders:e.orders.map(e=>e.id===r?i:e)})),"completed"===a&&i.memberId&&n?.status!=="completed"&&await l(i.memberId,i.total)}catch(t){e({error:t.message})}finally{e({loading:!1})}},deleteOrder:async t=>{e({loading:!0,error:null});try{if(!(await fetch(`/api/orders/${t}`,{method:"DELETE"})).ok)throw Error("Failed to delete order");e(e=>({orders:e.orders.filter(e=>e.id!==t)}))}catch(t){e({error:t.message})}finally{e({loading:!1})}}}));async function l(e,t){let r=o.b.getState(),a=r.members.find(t=>t.memberId===e);if(a){let e=1*Math.floor(t/100);await r.updateMember(a.id,{points:a.points+e,totalSpent:a.totalSpent+t})}}},20429:(e,t,r)=>{"use strict";r.d(t,{K:()=>a});let a=(0,r(80159).vt)(e=>({products:[],loading:!1,error:null,fetchProducts:async()=>{e({loading:!0,error:null});try{let t=await fetch("/api/products");if(!t.ok)throw Error("Failed to fetch products");let r=(await t.json()).map(e=>({...e,image_url:e.imageUrl||e.image_url,cost_price:e.costPrice||e.cost_price,profit_margin:e.profitMargin||e.profit_margin,is_featured:e.isFeatured,is_available:e.isAvailable}));e({products:r})}catch(t){e({error:t.message})}finally{e({loading:!1})}},addProduct:async t=>{e({loading:!0,error:null});try{let r=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("Failed to create product");let o=await r.json(),s={...o,image_url:o.imageUrl,cost_price:o.costPrice,profit_margin:o.profitMargin,is_featured:o.isFeatured,is_available:o.isAvailable};e(e=>({products:[s,...e.products]})),await a.getState().fetchProducts()}catch(t){e({error:t.message})}finally{e({loading:!1})}},updateProduct:async(t,r)=>{e({loading:!0,error:null});try{let a=await fetch(`/api/products/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw Error("Failed to update product");let o=await a.json(),s={...o,image_url:o.imageUrl,cost_price:o.costPrice,profit_margin:o.profitMargin,is_featured:o.isFeatured,is_available:o.isAvailable};e(e=>({products:e.products.map(e=>e.id===t?s:e)}))}catch(t){e({error:t.message})}finally{e({loading:!1})}},deleteProduct:async t=>{e({loading:!0,error:null});try{if(!(await fetch(`/api/products/${t}`,{method:"DELETE"})).ok)throw Error("Failed to delete product");e(e=>({products:e.products.filter(e=>e.id!==t)}))}catch(t){e({error:t.message})}finally{e({loading:!1})}}}))},73852:(e,t,r)=>{"use strict";r.d(t,{X:()=>s});var a=r(80159),o=r(85316);let s=(0,a.vt)(e=>({summary:null,loading:!1,error:null,calculateSummary:t=>{e({loading:!0,error:null});try{let r;let a=o.x.getState().orders,s=new Date,l=new Date(s.getFullYear(),s.getMonth(),s.getDate());switch(t){case"today":r=l;break;case"yesterday":(r=new Date(l)).setDate(r.getDate()-1);break;case"week":(r=new Date(l)).setDate(r.getDate()-7);break;case"month":(r=new Date(l)).setMonth(r.getMonth()-1)}let i=a.filter(e=>{let t=new Date(e.date);return t>=r&&t<=s}),n=i.filter(e=>"completed"===e.status),d=i.filter(e=>"pending"===e.status),c=i.filter(e=>"cancelled"===e.status),m=n.reduce((e,t)=>e+t.total,0),g=n.reduce((e,t)=>e+t.items.reduce((e,t)=>e+t.quantity,0),0),h=new Set(n.map(e=>e.customerName)).size,u={grossAmount:m,netSales:.9*m,discounts:.05*m,tax:.1*m,charges:.02*m,roundingAmount:.1*Math.random(),netTotal:.97*m,totalOutlets:3,dailyAverageSales:m/("today"===t?1:"yesterday"===t?1:"week"===t?7:30),quantity:g,transactionCount:n.length,voidedTransactions:Math.floor(.02*n.length),voidedTransferCount:Math.floor(.01*n.length),cancelledTransactionCount:c.length,averageValue:n.length?m/n.length:0,averageUnit:n.length?g/n.length:0,customerAverageValue:h?m/h:0,openOrderQuantity:d.length,openOrderAmount:d.reduce((e,t)=>e+t.total,0)};e({summary:u})}catch(t){e({error:t.message})}finally{e({loading:!1})}}}))},58426:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/rakzzm/Documents/Applications/Advakkad POS Application/src/app/(dashboard)/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/rakzzm/Documents/Applications/Advakkad POS Application/src/app/(dashboard)/layout.tsx","default")},78162:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(88077);let o=async e=>[{type:"image/png",sizes:"1024x1024",url:(0,a.fillMetadataSegment)(".",await e.params,"icon.png")+"?61c61fc08fa6f916"}]}};