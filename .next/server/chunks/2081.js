exports.id=2081,exports.ids=[2081],exports.modules={41599:(e,t,a)=>{Promise.resolve().then(a.bind(a,58426))},1847:(e,t,a)=>{Promise.resolve().then(a.bind(a,65950))},19904:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(73258).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])},49656:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(73258).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},10681:(e,t,a)=>{"use strict";var r=a(58009),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=r.useState,s=r.useEffect,l=r.useLayoutEffect,i=r.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!o(e,a)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),r=n({inst:{value:a,getSnapshot:t}}),o=r[0].inst,c=r[1];return l(function(){o.value=a,o.getSnapshot=t,d(o)&&c({inst:o})},[e,a,t]),s(function(){return d(o)&&c({inst:o}),e(function(){d(o)&&c({inst:o})})},[e]),i(a),a};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},23058:(e,t,a)=>{"use strict";var r=a(58009),o=a(94924),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=o.useSyncExternalStore,l=r.useRef,i=r.useEffect,d=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,a,r,o){var h=l(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;var u=s(e,(h=d(function(){function e(e){if(!i){if(i=!0,s=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return l=t}return l=e}if(t=l,n(s,e))return t;var a=r(e);return void 0!==o&&o(t,a)?(s=e,t):(s=e,l=a)}var s,l,i=!1,d=void 0===a?null:a;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]},[t,a,r,o]))[0],h[1]);return i(function(){f.hasValue=!0,f.value=u},[u]),c(u),u}},94924:(e,t,a)=>{"use strict";e.exports=a(10681)},73450:(e,t,a)=>{"use strict";e.exports=a(23058)},65950:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var r=a(45512),o=a(58009),n=a(28531),s=a.n(n),l=a(79334),i=a(80574),d=a(10985),c=a(91124),h=a(64977),f=a(80832),u=a(60322),g=a(78397),p=a(26658),m=a(61075),b=a(13287),w=a(4643),y=a(63170),x=a(94520),v=a(44269),S=a(30722),k=a(76438),j=a(65210);function A({children:e}){let t=(0,l.usePathname)();(0,l.useRouter)();let{user:a,logout:n}=(0,j.A)(),[A,E]=(0,o.useState)(!1);if(!a)return null;let N=[{name:"Dashboard",href:"/",icon:i.A,gradient:"from-blue-500/20 to-cyan-500/20",glow:"shadow-lg shadow-blue-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Products",href:"/products",icon:d.A,gradient:"from-purple-500/20 to-violet-500/20",glow:"shadow-lg shadow-purple-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Orders",href:"/orders",icon:c.A,gradient:"from-green-500/20 to-emerald-500/20",glow:"shadow-lg shadow-green-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Members",href:"/members",icon:h.A,gradient:"from-orange-500/20 to-amber-500/20",glow:"shadow-lg shadow-orange-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Top Sales",href:"/top-sales",icon:f.A,gradient:"from-cyan-500/20 to-teal-500/20",glow:"shadow-lg shadow-cyan-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Reports",href:"/reports",icon:u.A,gradient:"from-red-500/20 to-rose-500/20",glow:"shadow-lg shadow-red-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"AI Insights",href:"/ai-insights",icon:g.A,gradient:"from-indigo-500/20 to-purple-500/20",glow:"shadow-lg shadow-indigo-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Smart POS",href:"/smart-pos",icon:p.A,gradient:"from-pink-500/20 to-rose-500/20",glow:"shadow-lg shadow-pink-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"E-Invoicing",href:"/invoices",icon:m.A,gradient:"from-indigo-500/20 to-purple-500/20",glow:"shadow-lg shadow-indigo-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Staff Management",href:"/staff",icon:b.A,gradient:"from-emerald-500/20 to-green-500/20",glow:"shadow-lg shadow-emerald-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Attendance",href:"/attendance",icon:w.A,gradient:"from-teal-500/20 to-cyan-500/20",glow:"shadow-lg shadow-teal-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"QR Codes",href:"/qr-codes",icon:y.A,gradient:"from-amber-500/20 to-orange-500/20",glow:"shadow-lg shadow-amber-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Tables",href:"/tables",icon:y.A,gradient:"from-amber-500/20 to-orange-500/20",glow:"shadow-lg shadow-amber-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"},{name:"Settings",href:"/settings",icon:x.A,gradient:"from-slate-500/20 to-gray-500/20",glow:"shadow-lg shadow-slate-500/20",glass:"backdrop-blur-xl bg-white/10 border border-white/20"}],T=t&&"/"!==t?t.includes("/products")?"products":t.includes("/orders")?"orders":t.includes("/members")?"members":t.includes("/reports")?"reports":t.includes("/top-sales")?"topsales":t.includes("/staff")?"staff":t.includes("/attendance")?"attendance":t.includes("/tables")?"members":t.includes("/settings")?"settings":"dashboard":"dashboard";return(0,r.jsxs)("div",{className:`min-h-screen bg-gradient-to-br from-${T}-bg via-${T}-bg/30 to-${T}-bg/80 relative overflow-hidden`,children:[(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,r.jsx)("div",{className:`absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-${T}-primary/20 to-${T}-secondary/20 rounded-full blur-3xl animate-float`}),(0,r.jsx)("div",{className:`absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-${T}-accent/20 to-${T}-primary/20 rounded-full blur-3xl animate-float`,style:{animationDelay:"1s"}}),(0,r.jsx)("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-${T}-primary/10 to-${T}-secondary/10 rounded-full blur-3xl animate-pulse-slow`})]}),(0,r.jsxs)("div",{className:"flex h-screen",children:[A&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>E(!1)}),(0,r.jsxs)("div",{className:`flex flex-col ${A?"translate-x-0":"-translate-x-full"} fixed inset-y-0 left-0 z-50 w-64 bg-gradient-to-b from-slate-900/95 via-gray-900/95 to-slate-900/95 backdrop-blur-2xl shadow-2xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 border-r border-white/10`,children:[(0,r.jsxs)("div",{className:"flex h-20 items-center justify-between px-4 pt-4 pb-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,r.jsx)("div",{className:"relative w-full h-12 bg-white rounded-lg shadow-lg p-1",children:(0,r.jsx)("img",{src:"/images/logo.png",alt:"Adavakkad Collections",className:"object-contain w-full h-full"})})}),(0,r.jsx)("button",{onClick:()=>E(!1),className:"lg:hidden text-gray-400 hover:text-white",children:(0,r.jsx)(v.A,{className:"h-6 w-6"})})]}),(0,r.jsx)("nav",{className:"mt-5 px-2 space-y-2 flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-transparent",children:N.map(e=>{let a=e.icon,o=t===e.href;return(0,r.jsxs)(s(),{href:e.href,onClick:()=>E(!1),className:`group relative flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-300 overflow-hidden ${o?`${e.glass} text-white ${e.glow} transform scale-105 shadow-xl`:"text-gray-300 hover:text-white hover:backdrop-blur-xl hover:bg-white/5 hover:scale-105"}`,children:[(0,r.jsx)("div",{className:`absolute inset-0 bg-shine-gradient opacity-0 group-hover:opacity-100 transition-opacity duration-500 ${o?"animate-shine":""}`}),(0,r.jsx)(a,{className:`mr-4 h-6 w-6 transition-transform duration-300 ${o?"animate-float":"group-hover:scale-110"}`}),(0,r.jsx)("span",{className:"relative z-10",children:e.name}),o&&(0,r.jsx)("div",{className:"absolute right-2 w-2 h-2 bg-white rounded-full animate-pulse"})]},e.name)})}),(0,r.jsxs)("div",{className:"mt-auto p-4 bg-gradient-to-t from-gray-900 to-transparent",children:[(0,r.jsxs)("div",{className:"mb-4 px-4 py-3 bg-white/10 backdrop-blur-sm rounded-xl",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-white",children:a.name}),(0,r.jsx)("div",{className:"text-xs text-gray-300 capitalize",children:a.role})]}),(0,r.jsxs)("button",{onClick:n,className:"flex items-center px-4 py-3 text-sm font-medium text-gray-300 hover:text-white hover:bg-red-500/20 w-full rounded-xl transition-all duration-300 group",children:[(0,r.jsx)(S.A,{className:"mr-4 h-5 w-5 group-hover:scale-110 transition-transform"}),(0,r.jsx)("span",{children:"Logout"})]})]})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,r.jsxs)("div",{className:"lg:hidden bg-white/80 backdrop-blur-sm shadow-sm p-4 flex items-center justify-between",children:[(0,r.jsx)("button",{onClick:()=>E(!0),className:"text-gray-600 hover:text-gray-900",children:(0,r.jsx)(k.A,{className:"h-6 w-6"})}),(0,r.jsx)("div",{className:"h-10",children:(0,r.jsx)("img",{src:"/images/logo.png",alt:"Adavakkad Collections",className:"h-full object-contain"})}),(0,r.jsx)("div",{className:"w-6"})]}),(0,r.jsx)("main",{className:"p-6",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto",children:e})})]})]})]})}},14110:(e,t,a)=>{"use strict";a.d(t,{L:()=>r});let r=(0,a(80159).vt)((e,t)=>({staff:[],leaveRequests:[],payrollRecords:[],attendanceRecords:[],loading:!1,error:null,fetchStaff:async()=>{e({loading:!0,error:null});try{let t=await fetch("/api/staff");if(!t.ok)throw Error("Failed to fetch staff");let a=await t.json(),r=a.map(e=>({id:e.id,employeeId:e.employeeId,name:e.name,email:e.email,phone:e.phone,position:e.position,department:e.department,hireDate:new Date(e.hireDate).toISOString().split("T")[0],salary:e.salary,status:e.status,leaveBalance:{annual:e.leaveBalanceAnnual,sick:e.leaveBalanceSick,personal:e.leaveBalancePersonal},performance:{rating:e.performanceRating,lastReview:e.lastReview?new Date(e.lastReview).toISOString().split("T")[0]:""}})),o=[];a.forEach(e=>{e.leaveRequests&&Array.isArray(e.leaveRequests)&&e.leaveRequests.forEach(t=>{o.push({id:t.id,staffId:e.id,staffName:e.name,type:t.type,startDate:new Date(t.startDate).toISOString().split("T")[0],endDate:new Date(t.endDate).toISOString().split("T")[0],days:Math.ceil((new Date(t.endDate).getTime()-new Date(t.startDate).getTime())/864e5)+1,reason:t.reason,status:t.status,appliedDate:new Date(t.appliedDate).toISOString().split("T")[0]})})}),e({staff:r,leaveRequests:o})}catch(t){e({error:t.message})}finally{e({loading:!1})}},addStaff:async a=>{e({loading:!0,error:null});try{if(!(await fetch("/api/staff",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw Error("Failed to create staff");await t().fetchStaff()}catch(t){e({error:t.message})}finally{e({loading:!1})}},updateStaff:async(a,r)=>{e({loading:!0,error:null});try{let e={...r};if(r.leaveBalance&&(e.leaveBalance={...r.leaveBalance}),!(await fetch(`/api/staff/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to update staff");await t().fetchStaff()}catch(t){e({error:t.message})}finally{e({loading:!1})}},deleteStaff:async t=>{e({loading:!0,error:null});try{if(!(await fetch(`/api/staff/${t}`,{method:"DELETE"})).ok)throw Error("Failed to delete staff");e(e=>({staff:e.staff.filter(e=>e.id!==t)}))}catch(t){e({error:t.message})}finally{e({loading:!1})}},updateLeaveRequest:async(a,r)=>{e({loading:!0});try{await fetch(`/api/leave-requests/${a}`,{method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}),await t().fetchStaff()}catch(e){console.error(e)}finally{e({loading:!1})}},fetchPayroll:async()=>{e({loading:!0,error:null});try{let t=await fetch("/api/payroll");if(!t.ok)throw Error("Failed to fetch payroll");let a=(await t.json()).map(e=>({...e,payPeriodStart:new Date(e.payPeriodStart).toISOString().split("T")[0],payPeriodEnd:new Date(e.payPeriodEnd).toISOString().split("T")[0],payDate:new Date(e.payDate).toISOString().split("T")[0]}));e({payrollRecords:a})}catch(t){e({error:t.message})}finally{e({loading:!1})}},runPayroll:async(a,r,o,n,s)=>{e({loading:!0,error:null});try{if(!(await fetch("/api/payroll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({staffId:a,periodStart:r,periodEnd:o,bonuses:n,deductions:s})})).ok)throw Error("Failed to run payroll");await t().fetchPayroll()}catch(t){throw e({error:t.message}),t}finally{e({loading:!1})}},markPayrollPaid:async(a,r)=>{e({loading:!0,error:null});try{if(!(await fetch(`/api/payroll/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"paid",paymentMethod:r})})).ok)throw Error("Failed to update payroll");await t().fetchPayroll()}catch(t){e({error:t.message})}finally{e({loading:!1})}},fetchAttendance:async t=>{e({loading:!0,error:null});try{let a="/api/attendance";t&&(a+=`?month=${t}`);let r=await fetch(a);if(!r.ok)throw Error("Failed to fetch attendance");let o=(await r.json()).map(e=>({...e,date:new Date(e.date).toISOString().split("T")[0],staffName:e.staff?.name}));e({attendanceRecords:o})}catch(t){e({error:t.message})}finally{e({loading:!1})}},clockIn:async a=>{e({loading:!0,error:null});try{let e=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),r=await fetch("/api/attendance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"clock-in",staffId:a,time:e})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to clock in")}await t().fetchAttendance()}catch(t){throw e({error:t.message}),t}finally{e({loading:!1})}},clockOut:async(a,r,o)=>{e({loading:!0,error:null});try{if(!(await fetch(`/api/attendance/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"clock-out",time:r,totalHours:o})})).ok)throw Error("Failed to clock out");await t().fetchAttendance()}catch(t){e({error:t.message})}finally{e({loading:!1})}},addAttendance:async a=>{e({loading:!0});try{if(!(await fetch("/api/attendance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"manual",...a})})).ok)throw Error("Failed to add record");await t().fetchAttendance()}catch(t){e({error:t.message})}finally{e({loading:!1})}},updateAttendance:async(a,r)=>{e({loading:!0});try{if(!(await fetch(`/api/attendance/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok)throw Error("Failed to update record");await t().fetchAttendance()}catch(t){e({error:t.message})}finally{e({loading:!1})}},deleteAttendance:async t=>{e({loading:!0});try{if(!(await fetch(`/api/attendance/${t}`,{method:"DELETE"})).ok)throw Error("Failed to delete record");e(e=>({attendanceRecords:e.attendanceRecords.filter(e=>e.id!==t)}))}catch(t){e({error:t.message})}finally{e({loading:!1})}}}))},58426:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/rakzzm/Documents/Applications/Advakkad POS Application/src/app/(dashboard)/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/rakzzm/Documents/Applications/Advakkad POS Application/src/app/(dashboard)/layout.tsx","default")},78162:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var r=a(88077);let o=async e=>[{type:"image/png",sizes:"1024x1024",url:(0,r.fillMetadataSegment)(".",await e.params,"icon.png")+"?61c61fc08fa6f916"}]},80159:(e,t,a)=>{"use strict";a.d(t,{vt:()=>f});let r=e=>{let t;let a=new Set,r=(e,r)=>{let o="function"==typeof e?e(t):e;if(!Object.is(o,t)){let e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),a.forEach(a=>a(t,e))}},o=()=>t,n={setState:r,getState:o,getInitialState:()=>s,subscribe:e=>(a.add(e),()=>a.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},s=t=e(r,o,n);return n},o=e=>e?r(e):r;var n=a(58009),s=a(73450);let{useDebugValue:l}=n,{useSyncExternalStoreWithSelector:i}=s,d=!1,c=e=>e,h=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?o(e):e,a=(e,a)=>(function(e,t=c,a){a&&!d&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),d=!0);let r=i(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,a);return l(r),r})(t,e,a);return Object.assign(a,t),a},f=e=>e?h(e):h}};