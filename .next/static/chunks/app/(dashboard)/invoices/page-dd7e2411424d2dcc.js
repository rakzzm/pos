(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8743],{60553:(e,t,a)=>{Promise.resolve().then(a.bind(a,74967))},82800:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(12115),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let a=(0,s.forwardRef)((a,l)=>{let{color:n="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:u="",children:x,...m}=a;return(0,s.createElement)("svg",{ref:l,...r,width:o,height:o,stroke:n,strokeWidth:c?24*Number(d)/Number(o):d,className:["lucide","lucide-".concat(i(e)),u].join(" "),...m},[...t.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(x)?x:[x]])});return a.displayName="".concat(e),a}},32423:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(82800).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},50878:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(82800).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},66889:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(82800).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},92598:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(82800).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},14081:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(82800).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},33473:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(82800).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},87780:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(82800).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},20853:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(82800).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},28283:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(82800).A)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},45686:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(82800).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1466:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(82800).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},21610:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(82800).A)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},40767:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(82800).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},73027:(e,t,a)=>{"use strict";var s=a(12115),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=s.useState,l=s.useEffect,n=s.useLayoutEffect,o=s.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!r(e,a)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),s=i({inst:{value:a,getSnapshot:t}}),r=s[0].inst,c=s[1];return n(function(){r.value=a,r.getSnapshot=t,d(r)&&c({inst:r})},[e,a,t]),l(function(){return d(r)&&c({inst:r}),e(function(){d(r)&&c({inst:r})})},[e]),o(a),a};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:c},44564:(e,t,a)=>{"use strict";var s=a(12115),r=a(94236),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=r.useSyncExternalStore,n=s.useRef,o=s.useEffect,d=s.useMemo,c=s.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,a,s,r){var u=n(null);if(null===u.current){var x={hasValue:!1,value:null};u.current=x}else x=u.current;var m=l(e,(u=d(function(){function e(e){if(!o){if(o=!0,l=e,e=s(e),void 0!==r&&x.hasValue){var t=x.value;if(r(t,e))return n=t}return n=e}if(t=n,i(l,e))return t;var a=s(e);return void 0!==r&&r(t,a)?(l=e,t):(l=e,n=a)}var l,n,o=!1,d=void 0===a?null:a;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]},[t,a,s,r]))[0],u[1]);return o(function(){x.hasValue=!0,x.value=m},[m]),c(m),m}},94236:(e,t,a)=>{"use strict";e.exports=a(73027)},18010:(e,t,a)=>{"use strict";e.exports=a(44564)},74967:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var s=a(95155),r=a(12115),i=a(50878),l=a(66889),n=a(21610),o=a(14081),d=a(28283),c=a(20853),u=a(33473),x=a(92598),m=a(44857),h=a(40767),p=a(1466),g=a(32423),y=a(45686),f=a(87780),v=a(83749),b=a(10142),j=a(92340),w=a.n(j);let N={id:"default",name:"Modern Restaurant",layout:"modern",primaryColor:"#3B82F6",secondaryColor:"#1E40AF",headerText:"Restaurant Invoice",footerText:"Thank you for dining with us!",showQRCode:!0,showDigitalSignature:!0},S=(0,v.vt)((e,t)=>({invoices:[],templates:[N],currentTemplate:N,loading:!1,error:null,fetchInvoices:async()=>{e({loading:!0,error:null});try{let t=await fetch("/api/invoices");if(!t.ok)throw Error("Failed to fetch invoices");let a=(await t.json()).map(e=>({...e,issueDate:new Date(e.issueDate).toISOString().split("T")[0],dueDate:new Date(e.dueDate).toISOString().split("T")[0],customerEmail:e.customerEmail||"",customerPhone:e.customerPhone||"",customerAddress:e.customerAddress||"",subtotal:e.items.reduce((e,t)=>e+t.unitPrice*t.quantity,0),totalDiscount:0,totalTax:0,notes:e.notes||"",terms:e.terms||"",items:e.items.map(e=>({...e,taxRate:6,discount:0}))}));e({invoices:a})}catch(t){e({error:t.message})}finally{e({loading:!1})}},createInvoice:async a=>{e({loading:!0,error:null});try{let e="INV-".concat(new Date().getFullYear(),"-").concat(String(t().invoices.length+1).padStart(3,"0"));if(!(await fetch("/api/invoices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,invoiceNumber:e})})).ok)throw Error("Failed to create invoice");await t().fetchInvoices()}catch(t){throw e({error:t.message}),t}finally{e({loading:!1})}},updateInvoice:async(a,s)=>{e({loading:!0,error:null});try{if(!(await fetch("/api/invoices/".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw Error("Failed to update invoice");await t().fetchInvoices()}catch(t){throw e({error:t.message}),t}finally{e({loading:!1})}},deleteInvoice:async t=>{e({loading:!0,error:null});try{if(!(await fetch("/api/invoices/".concat(t),{method:"DELETE"})).ok)throw Error("Failed to delete invoice");e(e=>({invoices:e.invoices.filter(e=>e.id!==t)}))}catch(t){throw e({error:t.message}),t}finally{e({loading:!1})}},sendInvoice:async e=>{await t().updateInvoice(e,{status:"sent"})},markAsPaid:async(e,a)=>{await t().updateInvoice(e,{status:"paid",paymentMethod:a})},duplicateInvoice:async e=>{let a=t().invoices.find(t=>t.id===e);if(a){let{id:e,invoiceNumber:s,createdAt:r,updatedAt:i,...l}=a;await t().createInvoice({...l,status:"draft",issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+2592e6).toISOString().split("T")[0]})}},generatePDF:async e=>{let a=t().currentTemplate,s=new b.default,r=a.primaryColor;s.setFillColor(r),s.rect(0,0,210,40,"F"),s.setTextColor(255,255,255),s.setFontSize(24),s.text(a.headerText,20,25),s.setTextColor(0,0,0),s.setFontSize(12),s.text("Invoice #: ".concat(e.invoiceNumber),20,55),s.text("Issue Date: ".concat(e.issueDate),20,65),s.text("Due Date: ".concat(e.dueDate),20,75),s.text("Status: ".concat(e.status.toUpperCase()),20,85),s.setFontSize(14),s.text("Bill To:",120,55),s.setFontSize(12),s.text(e.customerName,120,65),s.text(e.customerEmail,120,75),s.text(e.customerPhone,120,85);let i=e.items.map(e=>[e.description,e.quantity.toString(),"RM ".concat(e.unitPrice.toFixed(2)),"".concat(e.taxRate,"%"),"RM ".concat(e.discount.toFixed(2)),"RM ".concat(e.total.toFixed(2))]);w()(s,{startY:100,head:[["Description","Qty","Unit Price","Tax","Discount","Total"]],body:i,theme:"grid",styles:{fillColor:[59,130,246],textColor:[255,255,255],fontSize:10},alternateRowStyles:{fillColor:[240,248,255]}});let l=s.lastAutoTable.finalY+20;s.text("Subtotal: RM ".concat(e.subtotal.toFixed(2)),120,l),s.text("Discount: RM ".concat(e.totalDiscount.toFixed(2)),120,l+10),s.text("Tax: RM ".concat(e.totalTax.toFixed(2)),120,l+20),s.setFontSize(14),s.text("Grand Total: RM ".concat(e.grandTotal.toFixed(2)),120,l+35),a.showQRCode&&s.text("QR Code: Payment Link",20,l+50),a.showDigitalSignature&&s.text("Digitally Signed",20,l+60),s.text(a.footerText,20,l+70),s.save("".concat(e.invoiceNumber,".pdf"))},generateBulkPDF:async e=>{for(let a of t().invoices.filter(t=>e.includes(t.id)))await t().generatePDF(a)},updateTemplate:t=>{e({currentTemplate:t})},getInvoiceStats:()=>{let e=t().invoices,a=e.length,s=e.filter(e=>"paid"===e.status).length,r=e.filter(e=>"sent"===e.status).length,i=e.filter(e=>{let t=new Date(e.dueDate);return"sent"===e.status&&t<new Date}).length,l=e.filter(e=>"paid"===e.status).reduce((e,t)=>e+t.grandTotal,0);return{total:a,paid:s,pending:r,overdue:i,totalRevenue:l,averageAmount:a>0?l/a:0}}}));var k=a(37788),D=a(73453);function C(e){let{isOpen:t,onClose:a}=e,{createInvoice:i}=S(),{members:l,fetchMembers:n}=(0,k.b)(),{products:o,fetchProducts:d}=(0,D.K)(),[c,x]=(0,r.useState)(!1),[m,v]=(0,r.useState)([]),[b,j]=(0,r.useState)({customerId:"",customerName:"",customerEmail:"",customerPhone:"",customerAddress:"",status:"draft",issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+2592e6).toISOString().split("T")[0],paymentMethod:"cash",notes:"",terms:"Payment due within 30 days."});(0,r.useEffect)(()=>{t&&(n(),d(),v([]),j({customerId:"",customerName:"",customerEmail:"",customerPhone:"",customerAddress:"",status:"draft",issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+2592e6).toISOString().split("T")[0],paymentMethod:"cash",notes:"",terms:"Payment due within 30 days."}))},[t,n,d]);let w=e=>{v(m.filter(t=>t.id!==e))},N=(e,t,a)=>{v(m.map(s=>{if(s.id===e){let e={...s,[t]:a};if("description"===t){let t=o.find(e=>e.name===a);t&&(e.unitPrice=t.price)}let r=e.quantity*e.unitPrice,i=e.discount,l=(r-i)*(e.taxRate/100);return e.total=r-i+l,e}return s}))},C=(e,t)=>{let a=o.find(e=>e.id===t);a&&v(m.map(t=>{if(t.id===e){let e=a.price,s=t.quantity||1,r=t.discount||0,i=t.taxRate||0,l=s*e;return{...t,description:a.name,unitPrice:e,quantity:s,taxRate:i,discount:r,total:l-r+i/100*(l-r)}}return t}))},A=m.reduce((e,t)=>e+t.quantity*t.unitPrice,0),T=m.reduce((e,t)=>e+t.discount,0),F=m.reduce((e,t)=>e+(t.quantity*t.unitPrice-t.discount)*(t.taxRate/100),0),E=A-T+F,I=async e=>{e.preventDefault(),x(!0);try{await i({...b,items:m,subtotal:A,totalDiscount:T,totalTax:F,grandTotal:E}),a()}catch(e){console.error("Failed to create invoice:",e),alert("Failed to create invoice. Please try again.")}finally{x(!1)}};return t?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 overflow-y-auto",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto shadow-2xl flex flex-col",children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"New Invoice"}),(0,s.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,s.jsx)(h.A,{className:"w-5 h-5 text-gray-500"})})]}),(0,s.jsxs)("form",{onSubmit:I,className:"p-6 space-y-8 flex-1",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-sm font-semibold text-gray-500 flex items-center gap-2",children:[(0,s.jsx)(p.A,{className:"w-4 h-4"})," Customer Details"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Select Customer"}),(0,s.jsxs)("select",{className:"w-full p-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 text-sm",onChange:e=>{let t=e.target.value;if("manual"===t){j(e=>({...e,customerId:"",customerName:"",customerEmail:"",customerPhone:"",customerAddress:""}));return}let a=l.find(e=>e.id===t);a&&j(e=>({...e,customerId:a.id,customerName:a.name,customerEmail:a.email,customerPhone:a.phone,customerAddress:""}))},value:b.customerId||"manual",children:[(0,s.jsx)("option",{value:"manual",children:"Manual Entry"}),l.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," (",e.phone,")"]},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Customer Name"}),(0,s.jsx)("input",{required:!0,type:"text",className:"w-full p-2 border border-gray-200 rounded-lg text-sm",value:b.customerName,onChange:e=>j({...b,customerName:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Email"}),(0,s.jsx)("input",{type:"email",className:"w-full p-2 border border-gray-200 rounded-lg text-sm",value:b.customerEmail,onChange:e=>j({...b,customerEmail:e.target.value})})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-sm font-semibold text-gray-500 flex items-center gap-2",children:[(0,s.jsx)(g.A,{className:"w-4 h-4"})," Invoice Details"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Issue Date"}),(0,s.jsx)("input",{type:"date",required:!0,className:"w-full p-2 border border-gray-200 rounded-lg text-sm",value:b.issueDate,onChange:e=>j({...b,issueDate:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Due Date"}),(0,s.jsx)("input",{type:"date",required:!0,className:"w-full p-2 border border-gray-200 rounded-lg text-sm",value:b.dueDate,onChange:e=>j({...b,dueDate:e.target.value})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Status"}),(0,s.jsxs)("select",{className:"w-full p-2 border border-gray-200 rounded-lg text-sm",value:b.status,onChange:e=>j({...b,status:e.target.value}),children:[(0,s.jsx)("option",{value:"draft",children:"Draft"}),(0,s.jsx)("option",{value:"sent",children:"Sent"}),(0,s.jsx)("option",{value:"paid",children:"Paid"}),(0,s.jsx)("option",{value:"overdue",children:"Overdue"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Payment Method"}),(0,s.jsxs)("select",{className:"w-full p-2 border border-gray-200 rounded-lg text-sm",value:b.paymentMethod,onChange:e=>j({...b,paymentMethod:e.target.value}),children:[(0,s.jsx)("option",{value:"cash",children:"Cash"}),(0,s.jsx)("option",{value:"card",children:"Card"}),(0,s.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,s.jsx)("option",{value:"digital_wallet",children:"Digital Wallet"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-600",children:"Line Items"}),(0,s.jsxs)("button",{type:"button",onClick:()=>{v([...m,{id:Math.random().toString(36).substr(2,9),description:"",quantity:1,unitPrice:0,taxRate:0,discount:0,total:0}])},className:"text-indigo-600 hover:text-indigo-700 text-sm font-medium flex items-center gap-1",children:[(0,s.jsx)(u.A,{className:"w-4 h-4"})," Add Item"]})]}),(0,s.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,s.jsx)("thead",{className:"bg-gray-50 text-gray-500 font-medium border-b border-gray-200",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-3 w-1/3",children:"Item / Description"}),(0,s.jsx)("th",{className:"p-3 w-20 text-center",children:"Qty"}),(0,s.jsx)("th",{className:"p-3 w-24 text-right",children:"Price"}),(0,s.jsx)("th",{className:"p-3 w-20 text-right",children:"Tax (%)"}),(0,s.jsx)("th",{className:"p-3 w-24 text-right",children:"Disc."}),(0,s.jsx)("th",{className:"p-3 w-24 text-right",children:"Total"}),(0,s.jsx)("th",{className:"p-3 w-10"})]})}),(0,s.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[m.map((e,t)=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"p-2",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("select",{className:"w-full p-1.5 border border-gray-200 rounded text-sm mb-1",onChange:t=>C(e.id,t.target.value),value:"",children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Select Product..."}),o.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," - ₹",e.price]},e.id))]}),(0,s.jsx)("input",{type:"text",placeholder:"Description",className:"w-full p-1.5 border border-gray-200 rounded text-sm",value:e.description,onChange:t=>N(e.id,"description",t.target.value)})]})}),(0,s.jsx)("td",{className:"p-2",children:(0,s.jsx)("input",{type:"number",min:"1",className:"w-full p-1.5 border border-gray-200 rounded text-center",value:e.quantity,onChange:t=>N(e.id,"quantity",parseFloat(t.target.value))})}),(0,s.jsx)("td",{className:"p-2",children:(0,s.jsx)("input",{type:"number",min:"0",step:"0.01",className:"w-full p-1.5 border border-gray-200 rounded text-right",value:e.unitPrice,onChange:t=>N(e.id,"unitPrice",parseFloat(t.target.value))})}),(0,s.jsx)("td",{className:"p-2",children:(0,s.jsx)("input",{type:"number",min:"0",max:"100",className:"w-full p-1.5 border border-gray-200 rounded text-right",value:e.taxRate,onChange:t=>N(e.id,"taxRate",parseFloat(t.target.value))})}),(0,s.jsx)("td",{className:"p-2",children:(0,s.jsx)("input",{type:"number",min:"0",step:"0.01",className:"w-full p-1.5 border border-gray-200 rounded text-right",value:e.discount,onChange:t=>N(e.id,"discount",parseFloat(t.target.value))})}),(0,s.jsxs)("td",{className:"p-3 text-right font-medium text-gray-900",children:["₹",e.total.toFixed(2)]}),(0,s.jsx)("td",{className:"p-2 text-center",children:(0,s.jsx)("button",{type:"button",onClick:()=>w(e.id),className:"text-red-400 hover:text-red-500 p-1 rounded-full hover:bg-red-50 transition-colors",children:(0,s.jsx)(y.A,{className:"w-4 h-4"})})})]},e.id)),0===m.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,className:"p-8 text-center text-gray-400 text-sm",children:'No items added. Click "Add Item" to start.'})})]})]})})]}),(0,s.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:(0,s.jsxs)("div",{className:"w-64 space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,s.jsx)("span",{children:"Subtotal"}),(0,s.jsxs)("span",{children:["₹",A.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,s.jsx)("span",{children:"Discount"}),(0,s.jsxs)("span",{children:["-₹",T.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,s.jsx)("span",{children:"Tax"}),(0,s.jsxs)("span",{children:["+₹",F.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-lg font-bold text-gray-900 pt-2 border-t border-gray-200",children:[(0,s.jsx)("span",{children:"Grand Total"}),(0,s.jsxs)("span",{children:["₹",E.toFixed(2)]})]})]})}),(0,s.jsxs)("div",{className:"pt-6 border-t border-gray-100 flex justify-end gap-3 sticky bottom-0 bg-white z-10",children:[(0,s.jsx)("button",{type:"button",onClick:a,className:"px-5 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:c,className:"px-5 py-2.5 text-white bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl hover:shadow-lg hover:scale-[1.02] active:scale-95 transition-all font-medium flex items-center gap-2",children:c?"Saving...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.A,{className:"w-4 h-4"})," Save Invoice"]})})]})]})]})}):null}var A=a(61542);function T(){var e,t;let{invoices:a,loading:h,fetchInvoices:p}=S(),[g,y]=(0,r.useState)(""),[f,v]=(0,r.useState)("all"),[j,N]=(0,r.useState)(null),[k,D]=(0,r.useState)(!1),[T,F]=(0,r.useState)(!1);(0,r.useEffect)(()=>{p()},[p]);let E=e=>{switch(e){case"paid":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"sent":return"bg-blue-100 text-blue-800 border-blue-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},I=e=>{switch(e){case"paid":return(0,s.jsx)(i.A,{className:"h-4 w-4"});case"pending":return(0,s.jsx)(l.A,{className:"h-4 w-4"});case"overdue":return(0,s.jsx)(n.A,{className:"h-4 w-4"});default:return(0,s.jsx)(o.A,{className:"h-4 w-4"})}},P=a.filter(e=>{var t,a;let s=(null===(t=e.invoiceNumber)||void 0===t?void 0:t.toLowerCase().includes(g.toLowerCase()))||(null===(a=e.customerName)||void 0===a?void 0:a.toLowerCase().includes(g.toLowerCase())),r="all"===f||e.status===f;return s&&r}),M={total:a.length,paid:a.filter(e=>"paid"===e.status).length,sent:a.filter(e=>"sent"===e.status).length,draft:a.filter(e=>"draft"===e.status).length,overdue:a.filter(e=>"overdue"===e.status).length,totalRevenue:a.filter(e=>"paid"===e.status).reduce((e,t)=>e+(t.grandTotal||0),0)},O=e=>{var t;let a=new b.default;a.setFontSize(20),a.setTextColor(40,40,40),a.text("Adavakkad Collections",14,22),a.setFontSize(10),a.setTextColor(100,100,100),a.text("123 Main Street, City",14,28),a.text("Phone: +91 1234567890",14,33),a.text("Email: info@adavakkad.com",14,38),a.setFontSize(16),a.setTextColor(79,70,229),a.text("INVOICE",140,22),a.setFontSize(10),a.setTextColor(0,0,0),a.text("Invoice #: ".concat(e.invoiceNumber),140,28),a.text("Date: ".concat(new Date(e.issueDate).toLocaleDateString()),140,33),a.text("Status: ".concat(e.status.toUpperCase()),140,38),a.text("Bill To:",14,50),a.setFontSize(11),a.text(e.customerName,14,56);let s=(null===(t=e.items)||void 0===t?void 0:t.map(e=>[e.description,e.quantity,"₹".concat(e.unitPrice),"₹".concat(e.total)]))||[];w()(a,{startY:65,head:[["Item","Quantity","Price","Total"]],body:s,theme:"grid",headStyles:{fillColor:[79,70,229]},styles:{fontSize:10,cellPadding:3}});let r=a.lastAutoTable.finalY+10;a.setFontSize(10),a.text("Subtotal:",140,r),a.text("₹".concat((e.grandTotal||0).toFixed(2)),170,r,{align:"right"}),a.setFontSize(12),a.setFont("helvetica","bold"),a.text("Grand Total:",140,r+7),a.text("₹".concat((e.grandTotal||0).toFixed(2)),170,r+7,{align:"right"}),a.setFontSize(8),a.setFont("helvetica","normal"),a.setTextColor(150,150,150),a.text("Thank you for your business!",105,280,{align:"center"}),a.save("Invoice_".concat(e.invoiceNumber,".pdf"))};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2 flex items-center gap-3",children:[(0,s.jsx)(o.A,{className:"h-10 w-10 text-indigo-600"}),"E-Invoicing"]}),(0,s.jsx)("p",{className:"text-gray-600",children:"Manage and track your invoices"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl p-6 text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-white/80 text-sm font-medium",children:"Total Invoices"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:M.total})]}),(0,s.jsx)(o.A,{className:"h-12 w-12 text-white/30"})]})}),(0,s.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Paid"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-green-600",children:M.paid})]}),(0,s.jsx)(i.A,{className:"h-12 w-12 text-green-300"})]})}),(0,s.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Sent"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:M.sent})]}),(0,s.jsx)(d.A,{className:"h-12 w-12 text-blue-300"})]})}),(0,s.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Draft"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:M.draft})]}),(0,s.jsx)(o.A,{className:"h-12 w-12 text-yellow-300"})]})}),(0,s.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Overdue"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-red-600",children:M.overdue})]}),(0,s.jsx)(n.A,{className:"h-12 w-12 text-red-300"})]})}),(0,s.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Total Revenue"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-indigo-600",children:["₹",M.totalRevenue.toFixed(2)]})]}),(0,s.jsx)(o.A,{className:"h-12 w-12 text-indigo-300"})]})})]}),(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,s.jsx)("input",{type:"text",placeholder:"Search invoices...",value:g,onChange:e=>y(e.target.value),className:"pl-10 pr-4 py-3 border border-gray-300 rounded-xl w-full focus:ring-2 focus:ring-indigo-600 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("select",{value:f,onChange:e=>v(e.target.value),className:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-600",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"draft",children:"Draft"}),(0,s.jsx)("option",{value:"sent",children:"Sent"}),(0,s.jsx)("option",{value:"paid",children:"Paid"}),(0,s.jsx)("option",{value:"overdue",children:"Overdue"}),(0,s.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,s.jsxs)("button",{onClick:()=>F(!0),className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-xl flex items-center gap-2 hover:scale-105 transition-all shadow-lg",children:[(0,s.jsx)(u.A,{className:"h-5 w-5"}),"New Invoice"]})]})]})}),h?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("div",{className:"text-gray-600",children:"Loading invoices..."})}):(0,s.jsx)("div",{className:"bg-white shadow-lg rounded-2xl overflow-hidden border border-gray-100",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gradient-to-r from-indigo-600/10 to-purple-600/10",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Invoice #"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(e=>{var t;return(0,s.jsxs)("tr",{className:"hover:bg-indigo-50 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.invoiceNumber})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.customerName})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-600",children:new Date(e.issueDate).toLocaleDateString()})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"text-sm font-bold text-gray-900",children:["₹",null===(t=e.grandTotal)||void 0===t?void 0:t.toFixed(2)]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("span",{className:"px-3 py-1 inline-flex items-center gap-1 text-xs font-semibold rounded-full border ".concat(E(e.status)),children:[I(e.status),e.status.charAt(0).toUpperCase()+e.status.slice(1)]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>{N(e),D(!0)},className:"text-indigo-600 hover:text-indigo-700 p-2 hover:bg-indigo-50 rounded-lg transition-colors",children:(0,s.jsx)(x.A,{className:"h-4 w-4"})}),(0,s.jsx)("button",{className:"text-blue-600 hover:text-blue-700 p-2 hover:bg-blue-50 rounded-lg transition-colors",children:(0,s.jsx)(d.A,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>O(e),title:"Download PDF",className:"text-green-600 hover:text-green-700 p-2 hover:bg-green-50 rounded-lg transition-colors",children:(0,s.jsx)(m.A,{className:"h-4 w-4"})})]})})]},e.id)})})]})})}),(0,s.jsx)(A.a,{isOpen:k,onClose:()=>D(!1),title:"Invoice Details",size:"large",children:j&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Invoice Number"}),(0,s.jsx)("p",{className:"text-lg font-bold",children:j.invoiceNumber})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Date"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:new Date(j.issueDate).toLocaleDateString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Customer"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:j.customerName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,s.jsxs)("span",{className:"px-3 py-1 inline-flex items-center gap-1 text-xs font-semibold rounded-full border ".concat(E(j.status)),children:[I(j.status),j.status.charAt(0).toUpperCase()+j.status.slice(1)]})]})]}),(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Items"}),(0,s.jsx)("div",{className:"space-y-2",children:null===(e=j.items)||void 0===e?void 0:e.map((e,t)=>{var a;return(0,s.jsxs)("div",{className:"flex justify-between bg-gray-50 p-3 rounded-lg",children:[(0,s.jsx)("span",{children:e.description}),(0,s.jsxs)("span",{className:"font-semibold",children:["₹",null===(a=e.total)||void 0===a?void 0:a.toFixed(2)]})]},t)})})]}),(0,s.jsx)("div",{className:"border-t pt-4",children:(0,s.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{className:"text-indigo-600",children:["₹",null===(t=j.grandTotal)||void 0===t?void 0:t.toFixed(2)]})]})})]})}),(0,s.jsx)(C,{isOpen:T,onClose:()=>F(!1)})]})}},61542:(e,t,a)=>{"use strict";a.d(t,{a:()=>i});var s=a(95155);a(12115);var r=a(40767);function i(e){let{isOpen:t,onClose:a,title:i,children:l,size:n="default"}=e;return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full ".concat("large"===n?"max-w-7xl":"max-w-md"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:i}),(0,s.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-500",children:(0,s.jsx)(r.A,{className:"h-6 w-6"})})]}),(0,s.jsx)("div",{className:"p-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:l})]})}):null}},37788:(e,t,a)=>{"use strict";a.d(t,{b:()=>s});let s=(0,a(83749).vt)(e=>({members:[],loading:!1,error:null,fetchMembers:async()=>{e({loading:!0,error:null});try{let t=await fetch("/api/members");if(!t.ok)throw Error("Failed to fetch members");let a=(await t.json()).map(e=>({...e,joinDate:new Date(e.joinDate).toISOString().split("T")[0]}));e({members:a})}catch(t){e({error:t.message})}finally{e({loading:!1})}},addMember:async t=>{e({loading:!0,error:null});try{let a=await fetch("/api/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to create member");let s=await a.json(),r={...s,joinDate:new Date(s.joinDate).toISOString().split("T")[0]};return e(e=>({members:[...e.members,r]})),r}catch(t){throw e({error:t.message}),t}finally{e({loading:!1})}},updateMember:async(t,a)=>{e({loading:!0,error:null});try{let s=await fetch("/api/members/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)throw Error("Failed to update member");let r=await s.json(),i={...r,joinDate:new Date(r.joinDate).toISOString().split("T")[0]};e(e=>({members:e.members.map(e=>e.id===t?i:e)}))}catch(t){throw e({error:t.message}),t}finally{e({loading:!1})}},deleteMember:async t=>{e({loading:!0,error:null});try{if(!(await fetch("/api/members/".concat(t),{method:"DELETE"})).ok)throw Error("Failed to delete member");e(e=>({members:e.members.filter(e=>e.id!==t)}))}catch(t){throw e({error:t.message}),t}finally{e({loading:!1})}}}))},73453:(e,t,a)=>{"use strict";a.d(t,{K:()=>s});let s=(0,a(83749).vt)(e=>({products:[],loading:!1,error:null,fetchProducts:async()=>{e({loading:!0,error:null});try{let t=await fetch("/api/products");if(!t.ok)throw Error("Failed to fetch products");let a=(await t.json()).map(e=>({...e,image_url:e.imageUrl||e.image_url,cost_price:e.costPrice||e.cost_price,profit_margin:e.profitMargin||e.profit_margin,is_featured:e.isFeatured,is_available:e.isAvailable}));e({products:a})}catch(t){e({error:t.message})}finally{e({loading:!1})}},addProduct:async t=>{e({loading:!0,error:null});try{let a=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to create product");let r=await a.json(),i={...r,image_url:r.imageUrl,cost_price:r.costPrice,profit_margin:r.profitMargin,is_featured:r.isFeatured,is_available:r.isAvailable};e(e=>({products:[i,...e.products]})),await s.getState().fetchProducts()}catch(t){e({error:t.message})}finally{e({loading:!1})}},updateProduct:async(t,a)=>{e({loading:!0,error:null});try{let s=await fetch("/api/products/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)throw Error("Failed to update product");let r=await s.json(),i={...r,image_url:r.imageUrl,cost_price:r.costPrice,profit_margin:r.profitMargin,is_featured:r.isFeatured,is_available:r.isAvailable};e(e=>({products:e.products.map(e=>e.id===t?i:e)}))}catch(t){e({error:t.message})}finally{e({loading:!1})}},deleteProduct:async t=>{e({loading:!0,error:null});try{if(!(await fetch("/api/products/".concat(t),{method:"DELETE"})).ok)throw Error("Failed to delete product");e(e=>({products:e.products.filter(e=>e.id!==t)}))}catch(t){e({error:t.message})}finally{e({loading:!1})}}}))},83749:(e,t,a)=>{"use strict";a.d(t,{vt:()=>x});let s=e=>{let t;let a=new Set,s=(e,s)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=s?s:"object"!=typeof r||null===r)?r:Object.assign({},t,r),a.forEach(a=>a(t,e))}},r=()=>t,i={setState:s,getState:r,getInitialState:()=>l,subscribe:e=>(a.add(e),()=>a.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},l=t=e(s,r,i);return i},r=e=>e?s(e):s;var i=a(12115),l=a(18010);let{useDebugValue:n}=i,{useSyncExternalStoreWithSelector:o}=l,d=!1,c=e=>e,u=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?r(e):e,a=(e,a)=>(function(e,t=c,a){a&&!d&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),d=!0);let s=o(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,a);return n(s),s})(t,e,a);return Object.assign(a,t),a},x=e=>e?u(e):u}},e=>{var t=t=>e(e.s=t);e.O(0,[3930,5982,8441,1517,7358],()=>t(60553)),_N_E=e.O()}]);